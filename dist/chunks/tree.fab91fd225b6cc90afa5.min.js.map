{"version":3,"sources":["webpack:///./src/routes/Tree/index.js"],"names":["_react","__webpack_require__","_dy","data","uid","ctype","name","children","key","project","roleData","React","Component","[object Object]","args","_temp","super","this","state","dataSource","Copy","Url2","document","getElementsByTagName","innerText","oInput","createElement","value","body","appendChild","select","execCommand","alert","mapDefaultValue","initTargets","defaultValue","forEach","v","newArray","x","push","mapDataSource","index","map","d","i","_extends","objectName","loopUntilRole","newData","item","some","length","componentDidMount","render","_react2","default","Fragment","style","height","DyTree","onSelect","console","log","fleidName","title","nodeStyle","color","singleSelecter","className","dangerouslySetInnerHTML","__html","toShow","onClick","margin"],"mappings":"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","file":"chunks/tree.fab91fd225b6cc90afa5.min.js","sourcesContent":["import React from \"react\";\nimport { DyTree } from \"@dy.design\";\nconst data = [\n  {\n    uid: \"480304799460360192\",\n    ctype: \"SYSGROUP\",\n    name: \"DBAdm\",\n    children: [\n      {\n        uid: \"480304799577800704\",\n        ctype: \"SYSROLE\",\n        name: \"dbAdm\",\n        children: [\n          {\n            uid: \"601730029373620224\",\n            ctype: \"SYSUSER\",\n            name: \"321321\",\n            key: \"603538512070836225\"\n          },\n          {\n            uid: \"601718608543875072\",\n            ctype: \"SYSUSER\",\n            name: \"dfds\",\n            key: \"601723989903015936\"\n          }\n        ]\n      }\n    ],\n    key: \"480304799460360192\",\n    project: false\n  },\n  {\n    uid: \"480304801788198912\",\n    ctype: \"SYSGROUP\",\n    name: \"Group Administrator\",\n    children: [],\n    key: \"480304801788198912\",\n    project: false\n  },\n  {\n    uid: \"605767120373940224\",\n    ctype: \"SYSGROUP\",\n    name: \"newTestGroup\",\n    children: [\n      {\n        uid: \"603538432966262784\",\n        ctype: \"SYSROLE\",\n        name: \"3ffdsfdsfdsfsd\",\n        children: [],\n        key: \"605767840351387650\"\n      },\n      {\n        uid: \"605767351123574784\",\n        ctype: \"SYSROLE\",\n        name: \"newTestRole\",\n        children: [\n          {\n            uid: \"601045261866762240\",\n            ctype: \"SYSUSER\",\n            name: \"33\",\n            key: \"605767880067252225\"\n          }\n        ],\n        key: \"605767351257792512\"\n      }\n    ],\n    key: \"605767120373940224\",\n    project: true\n  },\n  {\n    uid: \"565097735242383360\",\n    ctype: \"SYSGROUP\",\n    name: \"phone\",\n    children: [\n      {\n        uid: \"565099531453071360\",\n        ctype: \"SYSROLE\",\n        name: \"Phone Administration\",\n        children: [\n          {\n            uid: \"605763558424182784\",\n            ctype: \"SYSUSER\",\n            name: \"newUser\",\n            key: \"605764034347663360\"\n          }\n        ],\n        key: \"565099588927619072\"\n      }\n    ],\n    key: \"565097735242383360\",\n    project: true\n  },\n  {\n    uid: \"480304801662369794\",\n    ctype: \"SYSGROUP\",\n    name: \"Project Administration\",\n    children: [\n      {\n        uid: \"480304801733672960\",\n        ctype: \"SYSROLE\",\n        name: \"Project Administrator\",\n        children: [],\n        key: \"480304801750450176\"\n      }\n    ],\n    key: \"480304801662369794\",\n    project: false\n  },\n  {\n    uid: \"480304801029029888\",\n    ctype: \"SYSGROUP\",\n    name: \"System Administrator\",\n    children: [\n      {\n        uid: \"480304801058390016\",\n        ctype: \"SYSROLE\",\n        name: \"System Administrator\",\n        children: [\n          {\n            uid: \"605767609467535360\",\n            ctype: \"SYSUSER\",\n            name: \"newTestUser\",\n            key: \"606217650812485634\"\n          }\n        ]\n      }\n    ],\n    key: \"480304801029029888\",\n    project: false\n  },\n  {\n    uid: \"499885286558269440\",\n    ctype: \"SYSGROUP\",\n    name: \"Workflow Administrator\",\n    children: [\n      {\n        uid: \"499884769648050176\",\n        ctype: \"SYSROLE\",\n        name: \"Workflow Administrator\",\n        children: [],\n        key: \"606135540038762496\"\n      }\n    ],\n    key: \"499885286558269440\",\n    project: false\n  },\n  {\n    uid: \"601358319604465664\",\n    ctype: \"SYSGROUP\",\n    name: \"事业部\",\n    children: [\n      {\n        uid: \"601366797798604800\",\n        ctype: \"SYSROLE\",\n        name: \"通用事业部\",\n        children: [\n          {\n            uid: \"601718129214619648\",\n            ctype: \"SYSUSER\",\n            name: \"323\",\n            key: \"605440948813430785\"\n          },\n          {\n            uid: \"565099722033856512\",\n            ctype: \"SYSUSER\",\n            name: \"markwang3\",\n            key: \"605441043122356226\"\n          }\n        ],\n        key: \"601366797798604801\"\n      },\n      {\n        uid: \"567369391847505920\",\n        ctype: \"SYSGROUP\",\n        name: \"重载事业部\",\n        children: [\n          {\n            uid: \"601417884354215936\",\n            ctype: \"SYSROLE\",\n            name: \"3r3\",\n            children: [\n              {\n                uid: \"601722995852967936\",\n                ctype: \"SYSUSER\",\n                name: \"wang1\",\n                key: \"601723066107559938\"\n              }\n            ],\n            key: \"601417884354215937\"\n          },\n          {\n            uid: \"601726313677455360\",\n            ctype: \"SYSROLE\",\n            name: \"rwqrwq\",\n            children: [\n              {\n                uid: \"601045261866762240\",\n                ctype: \"SYSUSER\",\n                name: \"33\",\n                key: \"605440985056411649\"\n              }\n            ],\n            key: \"601726313744564224\"\n          }\n        ],\n        key: \"567369391847505920\",\n        project: true\n      }\n    ],\n    key: \"601358319604465664\",\n    project: true\n  }\n];\n\nconst roleData = [\n  { ctype: \"SYSROLE\", key: \"0-0-0\", name: \"dbAdm\", uid: \"480304799577800704\" },\n  {\n    ctype: \"SYSROLE\",\n    key: \"0-2-0\",\n    name: \"3ffdsfdsfdsfsd\",\n    uid: \"603538432966262784\"\n  },\n  {\n    ctype: \"SYSROLE\",\n    key: \"0-2-1\",\n    name: \"newTestRole\",\n    uid: \"605767351123574784\"\n  },\n  {\n    ctype: \"SYSROLE\",\n    key: \"0-3-0\",\n    name: \"Phone Administration\",\n    uid: \"565099531453071360\"\n  },\n  {\n    ctype: \"SYSROLE\",\n    key: \"0-4-0\",\n    name: \"Project Administrator\",\n    uid: \"480304801733672960\"\n  },\n  {\n    ctype: \"SYSROLE\",\n    key: \"0-5-0\",\n    name: \"System Administrator\",\n    uid: \"480304801058390016\"\n  },\n  {\n    ctype: \"SYSROLE\",\n    key: \"0-6-0\",\n    name: \"Workflow Administrator\",\n    uid: \"499884769648050176\"\n  },\n  {\n    ctype: \"SYSROLE\",\n    key: \"0-7-0\",\n    name: \"通用事业部\",\n    uid: \"601366797798604800\"\n  },\n  { ctype: \"SYSROLE\", key: \"0-7-1-0\", name: \"3r3\", uid: \"601417884354215936\" },\n  {\n    ctype: \"SYSROLE\",\n    key: \"0-7-1-1\",\n    name: \"rwqrwq\",\n    uid: \"601726313677455360\"\n  }\n];\nexport default class Tree extends React.Component {\n  state = {\n    dataSource: []\n  };\n\n  componentDidMount() {}\n  //   normal: \"dy-button-normal\",\n  //   primary: \"dy-button-primary\",\n  //   warning: \"dy-button-warning\",\n  //   disabled: \"dy-button-disabled\",\n  //   strong: \"dy-button-strong\",\n  //   ghost: \"dy-button-ghost\",\n  Copy = () => {\n    var Url2 = document.getElementsByTagName(\"pre\")[0].innerText;\n    var oInput = document.createElement(\"textarea\");\n    oInput.value = Url2;\n    document.body.appendChild(oInput);\n    oInput.select(); // 选择对象\n    document.execCommand(\"Copy\"); // 执行浏览器复制命令\n    alert(\"复制成功\");\n  };\n\n  /**\n   * @name:\n   * @test:\n   * @msg: 遍历初始值\n   * @param {data:人员组织结构数据, index}\n   * @return: [[groupid, roleid, useid],[groupid, roleid, useid],[groupid, roleid, useid]]\n   */\n  mapDefaultValue = initTargets => {\n    let defaultValue = [];\n\n    initTargets.forEach(v => {\n      let newArray = [];\n      for (let x in v) {\n        newArray.push(v[x]);\n      }\n      defaultValue.push(newArray);\n    });\n    return defaultValue;\n  };\n\n  /**\n   * @name:\n   * @test:\n   * @msg: 加入’0-1 0-0-1‘规则类型的key到数据\n   * @param {data:人员组织结构数据, index}\n   * @return: data with key\n   */\n  mapDataSource = (data, index) => {\n    index = index || 0;\n    return data.map((d, i) => ({\n      ...d,\n      key: index + \"-\" + i,\n      name: d.name || d.objectName,\n      children: d.children\n        ? this.mapDataSource(d.children, index + \"-\" + i)\n        : null\n    }));\n  };\n\n  /**\n   * @name:\n   * @test:\n   * @msg: 获取所有角色\n   * @param {data:人员组织结构数据, index}\n   * @return: []:roles\n   */\n\n  loopUntilRole = (data, newData) => {\n    data.forEach((v, i) => {\n      if (v.ctype == \"SYSROLE\") {\n        let item = {\n          ctype: v.ctype,\n          key: v.key,\n          name: v.name,\n          uid: v.uid\n        };\n        if (!newData.some(i => i.uid == v.uid)) {\n          newData.push(item);\n        }\n      }\n      if (v.children && v.children.length) {\n        this.loopUntilRole(v.children, newData);\n      }\n    });\n  };\n  render() {\n    return (\n      <React.Fragment>\n        <div style={{ height: \"500px\" }}>\n          <DyTree\n            onSelect={value => {\n              console.log(value);\n\n              //   this.setState({ targetData: value });\n              //   this.props.onChange(value);\n            }}\n            dataSource={this.mapDataSource(data)}\n            fleidName={{ title: \"name\", value: \"uid\", key: \"key\" }}\n            defaultValue={[\n              \"480304799460360192\",\n              \"480304801788198912\",\n              \"480304799577800704\"\n            ]}\n            nodeStyle={{ color: \"#004669\" }}\n          />\n        </div>\n\n        <div style={{ height: \"500px\" }}>\n          <DyTree\n            onSelect={value => {\n              console.log(value);\n\n              //   this.setState({ targetData: value });\n              //   this.props.onChange(value);\n            }}\n            singleSelecter\n            dataSource={roleData}\n            fleidName={{ title: \"name\", value: \"uid\", key: \"key\" }}\n            defaultValue={[\"603538432966262784\"]}\n            nodeStyle={{ color: \"#004669\" }}\n          />\n        </div>\n\n        <div className=\"codePlace\">\n          <pre\n            dangerouslySetInnerHTML={{\n              __html: toShow(`\n    import React from 'react';\n    import ReactDOM from 'react-dom';\n    import { DyButton } from \"@dy.design\";\n    const data = [\n        {\n          uid: \"480304799460360192\",\n          ctype: \"SYSGROUP\",\n          name: \"DBAdm\",\n          children: [\n            {\n              uid: \"480304799577800704\",\n              ctype: \"SYSROLE\",\n              name: \"dbAdm\",\n              children: [\n                {\n                  uid: \"601730029373620224\",\n                  ctype: \"SYSUSER\",\n                  name: \"321321\",\n                  key: \"603538512070836225\"\n                },\n                {\n                  uid: \"601718608543875072\",\n                  ctype: \"SYSUSER\",\n                  name: \"dfds\",\n                  key: \"601723989903015936\"\n                }\n              ]\n            }\n          ],\n          key: \"480304799460360192\",\n          project: false\n        },\n        {\n          uid: \"480304801788198912\",\n          ctype: \"SYSGROUP\",\n          name: \"Group Administrator\",\n          children: [],\n          key: \"480304801788198912\",\n          project: false\n        },\n        {\n          uid: \"605767120373940224\",\n          ctype: \"SYSGROUP\",\n          name: \"newTestGroup\",\n          children: [\n            {\n              uid: \"603538432966262784\",\n              ctype: \"SYSROLE\",\n              name: \"3ffdsfdsfdsfsd\",\n              children: [],\n              key: \"605767840351387650\"\n            },\n            {\n              uid: \"605767351123574784\",\n              ctype: \"SYSROLE\",\n              name: \"newTestRole\",\n              children: [\n                {\n                  uid: \"601045261866762240\",\n                  ctype: \"SYSUSER\",\n                  name: \"33\",\n                  key: \"605767880067252225\"\n                }\n              ],\n              key: \"605767351257792512\"\n            }\n          ],\n          key: \"605767120373940224\",\n          project: true\n        },\n        {\n          uid: \"565097735242383360\",\n          ctype: \"SYSGROUP\",\n          name: \"phone\",\n          children: [\n            {\n              uid: \"565099531453071360\",\n              ctype: \"SYSROLE\",\n              name: \"Phone Administration\",\n              children: [\n                {\n                  uid: \"605763558424182784\",\n                  ctype: \"SYSUSER\",\n                  name: \"newUser\",\n                  key: \"605764034347663360\"\n                }\n              ],\n              key: \"565099588927619072\"\n            }\n          ],\n          key: \"565097735242383360\",\n          project: true\n        },\n        {\n          uid: \"480304801662369794\",\n          ctype: \"SYSGROUP\",\n          name: \"Project Administration\",\n          children: [\n            {\n              uid: \"480304801733672960\",\n              ctype: \"SYSROLE\",\n              name: \"Project Administrator\",\n              children: [],\n              key: \"480304801750450176\"\n            }\n          ],\n          key: \"480304801662369794\",\n          project: false\n        },\n        {\n          uid: \"480304801029029888\",\n          ctype: \"SYSGROUP\",\n          name: \"System Administrator\",\n          children: [\n            {\n              uid: \"480304801058390016\",\n              ctype: \"SYSROLE\",\n              name: \"System Administrator\",\n              children: [\n                {\n                  uid: \"605767609467535360\",\n                  ctype: \"SYSUSER\",\n                  name: \"newTestUser\",\n                  key: \"606217650812485634\"\n                }\n              ]\n            }\n          ],\n          key: \"480304801029029888\",\n          project: false\n        },\n        {\n          uid: \"499885286558269440\",\n          ctype: \"SYSGROUP\",\n          name: \"Workflow Administrator\",\n          children: [\n            {\n              uid: \"499884769648050176\",\n              ctype: \"SYSROLE\",\n              name: \"Workflow Administrator\",\n              children: [],\n              key: \"606135540038762496\"\n            }\n          ],\n          key: \"499885286558269440\",\n          project: false\n        },\n        {\n          uid: \"601358319604465664\",\n          ctype: \"SYSGROUP\",\n          name: \"事业部\",\n          children: [\n            {\n              uid: \"601366797798604800\",\n              ctype: \"SYSROLE\",\n              name: \"通用事业部\",\n              children: [\n                {\n                  uid: \"601718129214619648\",\n                  ctype: \"SYSUSER\",\n                  name: \"323\",\n                  key: \"605440948813430785\"\n                },\n                {\n                  uid: \"565099722033856512\",\n                  ctype: \"SYSUSER\",\n                  name: \"markwang3\",\n                  key: \"605441043122356226\"\n                }\n              ],\n              key: \"601366797798604801\"\n            },\n            {\n              uid: \"567369391847505920\",\n              ctype: \"SYSGROUP\",\n              name: \"重载事业部\",\n              children: [\n                {\n                  uid: \"601417884354215936\",\n                  ctype: \"SYSROLE\",\n                  name: \"3r3\",\n                  children: [\n                    {\n                      uid: \"601722995852967936\",\n                      ctype: \"SYSUSER\",\n                      name: \"wang1\",\n                      key: \"601723066107559938\"\n                    }\n                  ],\n                  key: \"601417884354215937\"\n                },\n                {\n                  uid: \"601726313677455360\",\n                  ctype: \"SYSROLE\",\n                  name: \"rwqrwq\",\n                  children: [\n                    {\n                      uid: \"601045261866762240\",\n                      ctype: \"SYSUSER\",\n                      name: \"33\",\n                      key: \"605440985056411649\"\n                    }\n                  ],\n                  key: \"601726313744564224\"\n                }\n              ],\n              key: \"567369391847505920\",\n              project: true\n            }\n          ],\n          key: \"601358319604465664\",\n          project: true\n        }\n      ];\n      \n\n\nconst roleData = [\n    { ctype: \"SYSROLE\", key: \"0-0-0\", name: \"dbAdm\", uid: \"480304799577800704\" },\n    {\n      ctype: \"SYSROLE\",\n      key: \"0-2-0\",\n      name: \"3ffdsfdsfdsfsd\",\n      uid: \"603538432966262784\"\n    },\n    {\n      ctype: \"SYSROLE\",\n      key: \"0-2-1\",\n      name: \"newTestRole\",\n      uid: \"605767351123574784\"\n    },\n    {\n      ctype: \"SYSROLE\",\n      key: \"0-3-0\",\n      name: \"Phone Administration\",\n      uid: \"565099531453071360\"\n    },\n    {\n      ctype: \"SYSROLE\",\n      key: \"0-4-0\",\n      name: \"Project Administrator\",\n      uid: \"480304801733672960\"\n    },\n    {\n      ctype: \"SYSROLE\",\n      key: \"0-5-0\",\n      name: \"System Administrator\",\n      uid: \"480304801058390016\"\n    },\n    {\n      ctype: \"SYSROLE\",\n      key: \"0-6-0\",\n      name: \"Workflow Administrator\",\n      uid: \"499884769648050176\"\n    },\n    {\n      ctype: \"SYSROLE\",\n      key: \"0-7-0\",\n      name: \"通用事业部\",\n      uid: \"601366797798604800\"\n    },\n    { ctype: \"SYSROLE\", key: \"0-7-1-0\", name: \"3r3\", uid: \"601417884354215936\" },\n    {\n      ctype: \"SYSROLE\",\n      key: \"0-7-1-1\",\n      name: \"rwqrwq\",\n      uid: \"601726313677455360\"\n    }\n  ];\n\n    class Tree extends React.PureComponent {\n       \n\n        /**\n         * @name:\n         * @test:\n         * @msg: 遍历初始值\n         * @param {data:人员组织结构数据, index}\n         * @return: [[groupid, roleid, useid],[groupid, roleid, useid],[groupid, roleid, useid]]\n         */\n        mapDefaultValue = initTargets => {\n          let defaultValue = [];\n      \n          initTargets.forEach(v => {\n            let newArray = [];\n            for (let x in v) {\n              newArray.push(v[x]);\n            }\n            defaultValue.push(newArray);\n          });\n          return defaultValue;\n        };\n      \n        /**\n         * @name:\n         * @test:\n         * @msg: 加入’0-1 0-0-1‘规则类型的key到数据\n         * @param {data:人员组织结构数据, index}\n         * @return: data with key\n         */\n        mapDataSource = (data, index) => {\n          index = index || 0;\n          return data.map((d, i) => ({\n            ...d,\n            key: index + \"-\" + i,\n            name: d.name || d.objectName,\n            children: d.children\n              ? this.mapDataSource(d.children, index + \"-\" + i)\n              : null\n          }));\n        };\n\n        render(){\n            return       <React.Fragment>\n                                <div style={{ height: \"500px\" }}>\n                                <DyTree\n                                    onSelect={value => {\n                                    console.log(value);\n                        \n                                    //   this.setState({ targetData: value });\n                                    //   this.props.onChange(value);\n                                    }}\n                                    dataSource={this.mapDataSource(data)}\n                                    fleidName={{ title: \"name\", value: \"uid\", key: \"key\" }}\n                                    defaultValue={[\n                                    \"480304799460360192\",\n                                    \"480304801788198912\",\n                                    \"480304799577800704\"\n                                    ]}\n                                    nodeStyle={{ color: \"#004669\" }}\n                                />\n                                </div>\n                        \n                                <div style={{ height: \"500px\" }}>\n                                <DyTree\n                                    onSelect={value => {\n                                    console.log(value);\n                        \n                                    //   this.setState({ targetData: value });\n                                    //   this.props.onChange(value);\n                                    }}\n                                    singleSelecter\n                                    dataSource={roleData}\n                                    fleidName={{ title: \"name\", value: \"uid\", key: \"key\" }}\n                                    defaultValue={[\"603538432966262784\"]}\n                                    nodeStyle={{ color: \"#004669\" }}\n                                />\n                                </div>\n                            </React.Fragment>\n        }\n    }\n\n    ReactDOM.render(<Tree />, DomNode);\n            `)\n            }}\n          />\n          <button onClick={() => this.Copy()}>复制</button>\n        </div>\n        <div style={{ margin: \"10px\" }}>参数说明：</div>\n        <div className=\"desc\">onSelect: 选中事件</div>\n        <div className=\"desc\">dataSource: 参照我们的组织结构数据</div>\n        <div className=\"desc\">fleidName: 指定数据的字段名称</div>\n        <div className=\"desc\">defaultValue: 初始默认值</div>\n        <div className=\"desc\">\n          singleSelecter: 如果数据只有一层 且需要单选 传入这个参数 类型：\n          boolean\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n"],"sourceRoot":""}